# PaaD: Paper as a Device

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2023/07/JPHACKS2023_ogp.png)](https://www.youtube.com/watch?v=yYRQEdfGjEg)

## 製品概要
### 背景(製品開発のきっかけ、課題等)
* 論文のpdfやオンライン授業の資料など、電子上のドキュメントを読みながら紙に図やメモを取ることがある。
* 後からドキュメントを読み返したときに取ったメモも見たいが、紙を探すのが手間だったり失くしてしまったりする。
* そこで、紙に書いたメモを簡単に電子上のドキュメントに載せられる技術があればよいと思った。
### 製品説明（具体的な製品の説明）
カメラにかざした紙から文字や図形を読み取り、表示中のpdfに載せることができる。
#### 手順
1. pdfをサーバにアップロードする。
2. アップロードされたpdf一覧から、読みたいpdfを選んで表示する。
3. カメラに紙をかざし、写真を撮る。
![extract](https://github.com/jphacks/OL_2312/assets/84440125/a1a38017-11e0-4cca-a485-99a1ea3cebf0)
4. 撮られた写真を編集し、サーバにアップロードする。
   * 写真から抽出する図の候補が青い枠で表示される。
   * 青い枠を削除したり、結合することで、最終的に抽出する図を決定する。
5. アップロードされた図が一覧に表示されるので、それを表示中のpdfにドラッグアンドドロップする。
6. ドラックアンドドロップした図を、拡大・縮小・回転などをして整形する。
![setImage](https://github.com/jphacks/OL_2312/assets/84440125/21bb86b1-9ebb-46dc-a123-b5f1e71dd2b7)
7. 画像を載せたpdfの情報をサーバに反映させたり、ローカルにダウンロードする。
#### デモ動画
前述の手順を一通り実行
<iframe src="https://drive.google.com/file/d/1eQ1opMkzWPaVlIjKVKs981rM3QREfm2w/preview" width="640" height="480" allow="autoplay"></iframe>
### 特長
#### 1. 特長1
単に写真を取り込むのではなく、紙に書かれた複数の図形を、分離・抽出することができる。
深層学習ではなくアルゴリズムベースの手法を利用したため、高速かつリアルタイムな動作が可能である。
#### 2. 特長2
カメラがあればどこでも使用可能で、ペンタブレットやデジタルペンなどの専用デバイスが不要である。
#### 3. 特長3
pdfに紙上の図を紐づけたい場合に使用するため、想定ターゲットが広い（研究者：論文、学生：授業資料、プログラマ：公式ドキュメント、医師: 電子カルテ　など）。

### 解決出来ること
* メモを書いた紙を探す手間を省き、pdfファイルとして一括管理できる。
* メモを書いた紙を失くすリスクを軽減する。
* pdfへの図の追加しやすさを向上させられる。

### 今後の展望
* pdf以外のドキュメントに対応する
* 取り込む前の図の編集画面のブラッシュアップ（編集用の図の見た目の表示、編集のしやすさ等）
* 取り込んだ後の図の編集をできるようにする
* 日本語表示をできるようにする
### 注力したこと（こだわり等）
* OpenCVを駆使した複数図形の分離・抽出
* ドラックアンドドロップで直感的に図を配置することができる

## 開発技術
### 活用した技術
#### API・データ
特になし

#### フレームワーク・ライブラリ・モジュール
* Node.js
* PDF.js
* OpenCV
* Express
* docker

#### デバイス
* Laptop PC
* Webカメラ

### 独自技術
#### ハッカソンで開発した独自機能・技術
* OpenCVを使った図の分離・抽出と編集機能
* https://github.com/jphacks/OL_2312/blob/master/public/shotting.js

#### 製品に取り入れた研究内容（データ・ソフトウェアなど）（※アカデミック部門の場合のみ提出必須）
特になし
